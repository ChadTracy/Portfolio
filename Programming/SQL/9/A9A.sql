--CHAD TRACY
--CIS 310-01
--A9A
--DUE: 3/23/2016


CREATE TABLE DETAILRENTALA
(RENT_NUM CHAR(4) ,
VID_NUM CHAR(5),
DETAIL_FEE DECIMAL(1,1),
DETAIL_DUEDATE DATE,
DETAIL_RETURNDATE DATE,
DETAIL_DAILYLATEFEE CHAR(1)
);
CREATE TABLE MEMBERSHIPA
(MEM_NUM CHAR(3),
MEM_FNAME CHAR(15),
MEM_LNAME CHAR(15),
MEM_STREET CHAR(25),
MEM_CITY CHAR(15),
MEM_STATE CHAR(2),
MEM_ZIP CHAR(5),
MEM_BALANCE DECIMAL(2)
);
CREATE TABLE MOVIEA
(MOVIE_NUM CHAR(4),
MOVIE_TITLE CHAR(15),
MOVIE_YEAR DECIMAL(4),
MOVIE_COST DECIMAL(2,2),
MOVIE_GENRE CHAR(10),
PRICE_CODE DECIMAL(1) 
);
CREATE TABLE PRICEA
(PRICE_CODE CHAR (1),
PRICE_DESC CHAR(15),
PRICE_RENTFEE DECIMAL (2,2),
PRICE_DAILYLATEFEE DECIMAL (1,1)
) ;
CREATE TABLE RENTALA
(RENT_NUM CHAR(4),
RENT_DATE DATE,
MEM_NUM CHAR(3) 
);
CREATE TABLE VIDEOA
(VID_NUM CHAR(5),
VID_INDATE DATE,
MOVIE_NUM CHAR(4)
);

ALTER TABLE DETAILRENTALA
ADD CONSTRAINT PK_DETAILRENTALA PRIMARY KEY (RENT_NUM, VID_NUM)

ALTER TABLE MEMBERSHIPA
ADD CONSTRAINT PK_MEMBERSHIPA PRIMARY KEY (MEM_NUM)

ALTER TABLE MOVIEA
ADD CONSTRAINT PK_MOVIEA PRIMARY KEY (MOVIE_NUM)

ALTER TABLE PRICEA
ADD CONSTRAINT PK_PRICEA PRIMARY KEY (PRICE_CODE)

ALTER TABLE RENTALA
ADD CONSTRAINT PK_CONSTRAINTA PRIMARY KEY (RENT_NUM)

ALTER TABLE VIDEOA
ADD CONSTRAINT PK_VIDEOA PRIMARY KEY (VID_NUM)

ALTER TABLE MOVIEA
ADD CONSTRAINT FK_MOVIEA_PRICEA FOREIGN KEY (PRICE_CODE)
REFERENCES PRICEA

ALTER TABLE RENTALA
ADD CONSTRAINT FK_RENTALA_MEMBERSHIPA FOREIGN KEY (MEM_NUM)
REFERENCES MEMBERSHIPA

ALTER TABLE VIDEOA
ADD CONSTRAINT FK_VIDEOA_MOVIEA FOREIGN KEY (MOVIE_NUM)
REFERENCES MOVIEA

INSERT INTO DETAILRENTALA
VALUES
('1001', '34342', 2, '04-Mar-13', '02-Mar-13', '1');
INSERT INTO DETAILRENTALA
VALUES
('1001', '34366', 3.5, '04-Mar-13', '02-Mar-13', '3');
INSERT INTO DETAILRENTALA
VALUES
('1001', '61353', 2, '04-Mar-13', '03-Mar-13', '1');
INSERT INTO DETAILRENTALA
VALUES
('1002', '59237', 3.5, '04-Mar-13','04-Mar-13', '3');
INSERT INTO DETAILRENTALA
VALUES
('1003', '54325', 3.5, '04-Mar-13', '09-Mar-13', '3');
INSERT INTO DETAILRENTALA
VALUES
('1003','61369',2,	'06-Mar-13','09-Mar-13', '1');
INSERT INTO DETAILRENTALA
VALUES 
('1003','61388',0,'06-Mar-13','09-Mar-13','1');
INSERT INTO DETAILRENTALA
VALUES
('1004','34341',2,'07-Mar-13','07-Mar-13','1');
INSERT INTO DETAILRENTALA
VALUES
('1004','34367',3.5,'05-Mar-13','07-Mar-13','3');
INSERT INTO DETAILRENTALA
VALUES
('1004','44392',3.5,'05-Mar-13','07-Mar-13','3');
INSERT INTO DETAILRENTALA
VALUES
('1005','34342',2,'07-Mar-13','05-Mar-13','1');
INSERT INTO DETAILRENTALA
VALUES
('1005','44397',3.5,'05-Mar-13','05-Mar-13','3');
INSERT INTO DETAILRENTALA
VALUES
('1006','34366',3.5,'05-Mar-13','04-Mar-13','3');
INSERT INTO DETAILRENTALA
VALUES
('1006','61367',2,	'07-Mar-13', NULL,	'1');
INSERT INTO DETAILRENTALA
VALUES
('1007','34368',3.5,'05-Mar-13', NULL, '3');
INSERT INTO DETAILRENTALA
VALUES
('1008','34369',3.5,'05-Mar-13','05-Mar-13','3');
INSERT INTO DETAILRENTALA
VALUES
('1009', '54324',3.5,'05-Mar-13','3');
INSERT INTO MEMBERSHIPA
VALUES
('102','Tami','Dawson',	'2632 Takli Circle','Norene','TN','37136',11);
INSERT INTO MEMBERSHIPA
VALUES
('103',	'Curt',	'Knight',	'4025 Cornell Court','Flatgap',	'KY','41219',6);
INSERT INTO MEMBERSHIPA
VALUES
('104',	'Jamal','Melendez','788 East 145th Avenue','Quebeck','TN','38579',0);
INSERT INTO MEMBERSHIPA
VALUES
('105','Iva','McClain','6045 Musket Ball Circle','Summit','KY','42783',15);
INSERT INTO MEMBERSHIPA
VALUES
('106',	'Miranda','Parks','4469 Maxwell Place','Germantown','TN','38183',0);
INSERT INTO MEMBERSHIPA
VALUES
('107','Rosario','Elliott','7578 Danner Avenue','Columbia','TN','38402',5);
INSERT INTO MEMBERSHIPA
VALUES
('108','Mattie','Guy','4390 Evergreen Street','Lily','KY','40740',0);
INSERT INTO MEMBERSHIPA
VALUES
('109','Clint','Ochoa','1711 Elm Street','Greenville','TN','37745',10);
INSERT INTO MEMBERSHIPA
VALUES
('110','Lewis','Rosales','4524 SouthWind Circle','Counce','TN','38326',0);
INSERT INTO MEMBERSHIPA
VALUES
('111','Stacy','Mann','2789 East Cook Avenue','Murfreesboro','TN','37132',8);
INSERT INTO MEMBERSHIPA
VALUES
('112','Luis','Trujillo','7267 Melvin Avenue','Heiskell','TN','37754',3);
INSERT INTO MEMBERSHIPA
VALUES
('113','Minnie','Gonzales','6430 Vasili Drive','Williston','TN','38076',0);
INSERT INTO MOVIEA
VALUES
('1234',	'The Cesar Family Christmas',	2011,	39.95,	'FAMILY',	2);
INSERT INTO MOVIEA
VALUES
('1235',	'Smokey Mountain Wildlife',	2008	,59.95,	'ACTION',	1);
INSERT INTO MOVIEA
VALUES
('1236',	'Richard Goodhope',	2012,	59.95,	'DRAMA',	2);
INSERT INTO MOVIEA
VALUES
('1237',	'Beatnik Fever',	2011,	29.95,	'COMEDY',	2);
INSERT INTO MOVIEA
VALUES
('1238',	'Constant Companion',	2012,	89.95,	'DRAMA',	2);
INSERT INTO MOVIEA
VALUES
('1239',	'Where Hope Dies',	2002,	25.49,	'DRAMA',	3);
INSERT INTO MOVIEA
VALUES
('1245',	'Time to Burn',	2009,	45.49,	'ACTION',	1);
INSERT INTO MOVIEA
VALUES
('1246',	'What He Doesnt Know',	2010,	58.29,	'COMEDY',	1);
INSERT INTO PRICEA
VALUES
('1',	'Standard',	2,	1);
INSERT INTO PRICEA
VALUES
('2',	'New Release',	3.5,	3);
INSERT INTO PRICEA
VALUES
('3',	'Discount',	1.5,	1);
INSERT INTO PRICEA
VALUES
('4',	'Weekly Special',	1,	0.5);
INSERT INTO RENTALA
VALUES
('1001',	'01-Mar-13',	'103');
INSERT INTO RENTALA
VALUES
('1002',	'01-Mar-13',	'105');
INSERT INTO RENTALA
VALUES
('1003',	'02-Mar-13',	'102');
INSERT INTO RENTALA
VALUES
('1004',	'02-Mar-13',	'110');
INSERT INTO RENTALA
VALUES
('1005',	'02-Mar-13',	'111');
INSERT INTO RENTALA
VALUES
('1006',	'02-Mar-13',	'107');
INSERT INTO RENTALA
VALUES
('1007',	'02-Mar-13',	'104');
INSERT INTO RENTALA
VALUES
('1008',	'03-Mar-13',	'105');
INSERT INTO RENTALA
VALUES
('1009',	'03-Mar-13',	'111');
INSERT INTO VIDEOA
VALUES
('34341',	'22-Jan-11',	'1235');
INSERT INTO VIDEOA
VALUES
('34342',	'22-Jan-11',	'1235');
INSERT INTO VIDEOA
VALUES
('34366',	'02-Mar-13',	'1236');
INSERT INTO VIDEOA
VALUES
('34367',	'02-Mar-13',	'1236');
INSERT INTO VIDEOA
VALUES
('34368',	'02-Mar-13',	'1236');
INSERT INTO VIDEOA
VALUES
('34369',	'02-Mar-13',	'1236');
INSERT INTO VIDEOA
VALUES
('44392',	'21-Oct-12',	'1237');
INSERT INTO VIDEOA
VALUES
('44397',	'21-Oct-12',	'1237');
INSERT INTO VIDEOA
VALUES
('54321',	'18-Jun-12',	'1234');
INSERT INTO VIDEOA
VALUES
('54324',	'18-Jun-12',	'1234');
INSERT INTO VIDEOA
VALUES
('54325',	'18-Jun-12',	'1234');
INSERT INTO VIDEOA
VALUES
('59237',	'14-Feb-13',	'1237');
INSERT INTO VIDEOA
VALUES
('61353',	'28-Jan-10',	'1245');
INSERT INTO VIDEOA
VALUES
('61354',	'28-Jan-10',	'1245');
INSERT INTO VIDEOA
VALUES
('61367',	'30-Jul-12',	'1246');
INSERT INTO VIDEOA
VALUES
('61369',	'30-Jul-12',	'1246');
INSERT INTO VIDEOA
VALUES
('61388',	'25-Jan-11',	'1239');